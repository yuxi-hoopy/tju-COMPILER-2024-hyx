# ä»£ç 

åˆæ­¥è®¡åˆ’ï¼Œå…ˆè®¾2ä¸ªå°ddlï¼Œå°½é‡åœ¨æ—¶æ®µå†…å®Œæˆã€‚ç”¨gptåº”è¯¥ä¸ä¼šèŠ±å¤ªå¤šæ—¶é—´ï¼Œä½¿ç”¨ä¸‹é¢çš„æ•°æ®ç»“æ„ã€‚

psï¼šæ³¨æ„æ•°æ®ç»“æ„ä¸€å®šä¸è¦ç”¨é”™å“¦ï¼Œä¸ç„¶å¯¹æ¥ä¸ä¸Šä¼šç™½è´¹åŠ›æ°”qwqã€‚

***

2024-05-02-16:11æ›´æ–°ï¼šé¡¹ç›®é›†è§„èŒƒæ—åº”å½“åŒ…å«**çŠ¶æ€ä¹‹é—´çš„è½¬ç§»å…³ç³»**ï¼Œä¹Ÿå°±æ˜¯GOå‡½æ•°çš„ç»“æœï¼›

è¿™éƒ¨åˆ†å¯¹ä¸‰äººè´Ÿè´£å†…å®¹éƒ½æœ‰å½±å“ã€‚

**ä¾‹ï¼š**

GO(I~0~ï¼Œa_string) = I~1~

åˆ™0å·stateå†…å®¹å¤§è‡´ä¸ºï¼š

state[0].stateNumber = 1;

state[0].items= {(...,...)ï¼Œ(...,...)ï¼Œ...)};//çŠ¶æ€ä¸­åŒ…å«çš„æ‰€æœ‰é¡¹ç›®

state[0].transitions[a_string] = 1;

æ–°å¢å±æ€§`map<string, int> transitions;`è¡¨ç¤ºå½“å‰çŠ¶æ€è¯†åˆ«ä¸€ä¸ªstringè½¬ç§»åˆ°çš„æ–°çŠ¶æ€åºå·ã€‚

***

## ä»£ç deadlineï¼š2024-05-04 23:59

è¦æ±‚å„æˆå‘˜åœ¨æœ¬åœ°è‡ªå·±ç”Ÿæˆå°æµ‹è¯•æ ·ä¾‹æµ‹è¯•é€šè¿‡ï¼Œæœ€åç»™å‡ºè¿è¡Œç»“æœã€‚å¯ä»¥æ˜¯å•æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥å¸¦æœ‰å¤´æ–‡ä»¶ï¼Œæ–¹ä¾¿åæœŸè€¦åˆå³å¯ã€‚

å¯¹äºè¯­æ³•é”™è¯¯çš„æƒ…å†µï¼Œè¦èƒ½ç»™å‡ºerrorä¿¡å·ï¼Œè€å¸ˆè¦æ±‚äº†è¿™ä¸€ç‚¹ã€‚ï¼ˆæˆ‘è§‰å¾—å¯èƒ½å°±æ˜¯`if...;else...; if...;ï¼Œ...ï¼Œelse error`è¿™ç§å½¢å¼ï¼‰

æ¯”å¦‚ï¼šæ­£ç¡®ç”Ÿæˆä¸€ä¸ªå°å‹æ–‡æ³•çš„LR(0)é¡¹ç›®é›†è§„èŒƒæ—ï¼Œæ¨èä»ç½‘ä¸Šæ‰¾æœ‰ç­”æ¡ˆçš„æ–‡æ³•æ–¹ä¾¿å¯¹ç…§ï¼Œé‡åˆ°é—®é¢˜ä¸€å®šåŠæ—¶åœ¨ç¾¤é‡Œå‘ğŸ˜‰

## ä»£ç æ•´åˆ+æµ‹è¯•åœ¨2024-05-06 23ï¼š59ä¹‹å‰å®Œæˆ

æˆ‘æ¥æ•´åˆï¼Œæµ‹è¯•æ–‡ä»¶ä¸€äººå¼„2ä¸ªã€‚å…±6ä¸ªï¼Œè¦æ±‚åŒ…å«é”™è¯¯æ•°æ®

## æ•°æ®ç»“æ„

äº§ç”Ÿå¼ï¼š

```cpp
struct Production {
    string left; // äº§ç”Ÿå¼å·¦éƒ¨
    vector<string> right; // äº§ç”Ÿå¼å³éƒ¨---ï¼ˆåœ¨grammer.txtä¸­å¤šä¸ªé€‰é¡¹åˆ™ç”¨ç©ºæ ¼åˆ†éš”ï¼‰
};
```

é¡¹ç›®ï¼š

```cpp
struct Item {
    int productionIndex; // äº§ç”Ÿå¼çš„ç´¢å¼•
    int dotPos; // é¡¹ç›®ç‚¹çš„ä½ç½®---ç»Ÿä¸€ä»ä¸‹æ ‡0å¼€å§‹
};
```

é¡¹ç›®é›†è§„èŒƒæ—ï¼š

```cpp
struct State {
    int stateNumber;//çŠ¶æ€åºå·
    vector<Item> items;//çŠ¶æ€ä¸­åŒ…å«çš„æ‰€æœ‰é¡¹ç›®
    map<string, int> transitions;//çŠ¶æ€åˆ°å…¶ä»–çŠ¶æ€çš„è½¬ç§»å…³ç³»
};
```

é›†åˆç±»ï¼š

```cpp
unordered_set<string> nonTerminals;//éç»ˆç»“ç¬¦
unordered_set<string> terminals;//ç»ˆç»“ç¬¦
unordered_map<string, unordered_set<string>> firstSets;//firsté›†
unordered_map<string, unordered_set<string>> followSets;//followé›†
unordered_map<string, unordered_map<string, string>> gotoTable;//gotoè¡¨
unordered_map<string, unordered_map<string, string>> actionTable;//actionè¡¨
```

å…³äºgotoå’Œactionè¡¨ï¼Œä¸ºæ–¹ä¾¿ç†è§£å’Œä½¿ç”¨ï¼Œä¸¾2ä¸ªä¾‹å­â†“

```cpp
// ç¤ºä¾‹çš„ gotoTable
    unordered_map<string, unordered_map<string, int>> gotoTable = {
        {"S0", {{"E", 1}}},
        {"S1", {{"E", 3}, {"T", 2}}},
        {"S2", {{"T", 4}, {"F", 5}}},
    };

    // ç¤ºä¾‹çš„ actionTable
    unordered_map<string, unordered_map<string, string>> actionTable = {
        {"S0", {{"id", "shift 3"}, {"(", "shift 4"}}},
        {"S1", {{"+", "shift 6"}, {"$", "accept"}}},
        {"S2", {{"*", "shift 7"}}},
        {"S3", {{"+", "reduce 2"}, {"*", "reduce 2"}, {")", "reduce 2"}, {"$", "reduce 2"}}},
    };
```